description: "ionss test module"

defaultENV:
    OMPI_MCA_rmaps_base_oversubscribe: "1"
    MCL_LOG_LEVEL: "4"

module:
    name: "iof_test_ionss"
    subLogKey: "IOF_TESTLOG"
    setKeyFromHost: ["IOF_TEST_ION", "IOF_TEST_CN"]
    setKeyFromInfo:
        - [IOF_PREFIX, PREFIX, ""]
        - [IOF_MCL_PREFIX, MCL_PREFIX, ""]
        - [IOF_OMPI_PREFIX, OMPI_PREFIX, ""]
        - [IOF_OMPI_BIN, OMPI_PREFIX, "/bin/"]
        - [IOF_TEST_BIN, PREFIX, "/bin"]
    createKeyFromInfo:
        - [LD_LIBRARY_PATH, "/lib", [OMPI_PREFIX, MCL_PREFIX]]
    srcDir: ["src/cnss", "src/ionss"]

directives:
    loop: "no"

execStrategy:
    - id: 1
      setEnvVars:
